<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Product</title>
    <!-- Add the necessary CSS and JavaScript dependencies -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
    <div th:insert="AdminHeader.html"></div>

    <div class="container mt-5">
        <a href="/addProduct" class="btn btn-primary mb-3">Add Product</a>

        <table id="ProductTable" class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Product Name</th>
                    <th>Category</th>
                    <th>Photo</th>	
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="product : ${product}">
                    <td th:text="${product.id}"></td>
                    <td th:text="${product.name}"></td>
                    <td th:text="${product.category.name}"></td>
                    <td>
 					 <img th:src="@{/images/{imageName}(imageName=${product.image})}" alt="Product Image" width="100" height="100" />
					</td>
                    
                    <td>
                        <a th:href="@{/editProduct(id=${product.id})}">
                            <input class="btn btn-success" type="submit" value="Edit" />
                        </a>
                        <a th:href="@{/deleteProduct(id=${product.id})}">
                            <input class="btn btn-danger" type="submit" value="Delete" />
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <script type="text/javascript">
        $(document).ready(function () {
            $('#ProductTable').DataTable();
        });
    </script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
